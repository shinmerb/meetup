# ã—ã‚“ã‚.rb meetup ç¬¬48å›(2025/6/2)

## ã‚¢ã‚¸ã‚§ãƒ³ãƒ€

- ã—ã‚“ã‚.rbã«ã¤ã„ã¦
- ç›´è¿‘ã®é–‹å‚¬äºˆå®š
  - 6æœˆ2æ—¥ï¼ˆæœˆï¼‰21æ™‚ã€œ22æ™‚åŠ
  - 6æœˆ9æ—¥ï¼ˆæœˆï¼‰21æ™‚ã€œ22æ™‚åŠ
  - 6æœˆ16æ—¥ï¼ˆæœˆï¼‰21æ™‚ã€œ22æ™‚åŠ

### ä»Šæ—¥ã‚„ã‚‹ã“ã¨

- Bootstrap ã®å°å…¥ã¨ note ãƒ¢ãƒ‡ãƒ«ã®è¿½åŠ 

#### Bootstrap ã®å°å…¥

```ruby
 # Gemfile
 gem "dartsass-rails"
 gem "bootstrap", "~> 5.3.3"
 ```
 ```
 $ bundle install
 $ bin/rails dartsass:install
 ```

 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã« `config/importmap.rb` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ã™ã‚‹ã€‚

 ```ruby
 pin "bootstrap", to: "bootstrap.min.js", preload: true
 pin "@popperjs/core", to: "popper.js", preload: true
 ```

ä»¥ä¸‹ã§ã‚‚åŒæ§˜ã®ã“ã¨ã‚’ã—ã¦ã„ã‚‹ã€‚

 ```
 $ bin/importmap pin bootstrap @popperjs/core --download
 ```

`app/javascript/application.js` ã«ä»¥ä¸‹ã‚’è¿½è¨˜ã™ã‚‹ã€‚

```javascript
 import "@popperjs/core"
 import "bootstrap"
```

`app/assets/stylesheets/application.scss`ã«ä»¥ä¸‹ã‚’è¿½è¨˜ã™ã‚‹ã€‚

```
 @import "bootstrap";
```

```
<%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
<%= javascript_importmap_tags %>
```

#### note ãƒ¢ãƒ‡ãƒ«ã®è¿½åŠ 

```
$ bin/rails generate model Note title:text body:text user:references
```

### ãƒ¢ãƒ–ãƒ—ãƒ­ã®ã™ã‚ã‚

- ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’ã‚„ã£ã¦ãã‚ŒãŸäººã«ã¯å…¨åŠ›æ„Ÿè¬ï¼
- ç¢ºä¿¡ãŒãªãã¦ã‚‚ã€Œã“ã†ã™ã‚Œã°ã§ããã†ï¼Ÿã€ãªä¼šè©±ã€Welcome
- ã€Œåˆ†ã‹ã‚‰ãªã„ã€ã¯ã©ã‚“ã©ã‚“è¨€è‘‰ã«ï¼ã‚¨ã‚¹ãƒ‘ãƒ¼ã•ã›ã¡ã‚ƒã†ã¨ã‹ã€ã“ã“ã§ã¯æ°—ã«ã—ãªã„ï¼
- ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ã¿ã‚“ãªã§è€ƒãˆã‚‹ã€è§£æ±ºã—ãŸã‚‰ã‚ãƒ¼ã„ğŸ™Œ

### æ¬¡å›ä»¥é™ã‚„ã‚‹ã“ã¨

### å‚è€ƒè³‡æ–™
- [ã‚¢ã‚»ãƒƒãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã¤ã„ã¦](https://railsguides.jp/v7.0/asset_pipeline.html)

#### ã‚¢ã‚»ãƒƒãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å„ãƒ„ãƒ¼ãƒ«ã®å½¹å‰²æ•´ç†
- cssbundling-rails
  - SCSS ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ app/assets/builds ã«ç½®ã
  - Bootstrap ã‚’ä½¿ã†ã«ã¯ esbuild ãŒå¿…è¦ã«ãªã‚Šã€NodeãŒå¿…è¦
  - JS ã¯æ‰±ã‚ãªã„
- jsbundling-rails
  - npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® JS ã‚’ esbuild/webpack ãªã©ã§ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹
  - Node ãŒå¿…è¦
  - CSS ã¯æ‰±ã‚ãªã„
- importmap-rails
  - ES ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«ãã®ã¾ã¾èª­ã¿è¾¼ã¾ã›ã‚‹
  - Node ãŒä¸è¦
    - ä¾å­˜ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã‚‹

#### URL æ§‹é€ ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©æ§‹é€ 

- resources
  - CRUDï¼ˆCreate / Read / Update / Deleteï¼‰æ“ä½œã«å¯¾å¿œã™ã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ã¨ã‚ã¦å®šç¾©ã™ã‚‹ã€‚
  - ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯é€šå¸¸ã®ã‚¹ã‚³ãƒ¼ãƒ—

```ruby
  resources :admin do
    resources :note
  end
```

| Prefix             | Verb   | Path                              | Controller#Action |
| ------------------ | ------ | --------------------------------- | ----------------- |
| admin\_note\_index | GET    | /admin/\:admin\_id/note           | note#index        |
|                    | POST   | /admin/\:admin\_id/note           | note#create       |
| new\_admin\_note   | GET    | /admin/\:admin\_id/note/new       | note#new          |
| edit\_admin\_note  | GET    | /admin/\:admin\_id/note/\:id/edit | note#edit         |
| admin\_note        | GET    | /admin/\:admin\_id/note/\:id      | note#show         |
|                    | PATCH  | /admin/\:admin\_id/note/\:id      | note#update       |
|                    | PUT    | /admin/\:admin\_id/note/\:id      | note#update       |
|                    | DELETE | /admin/\:admin\_id/note/\:id      | note#destroy      |

- namespace
  - URL ãƒ‘ã‚¹ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹é€ ã‚’ä¸€è‡´ã•ã›ã‚‹
  - ç®¡ç†ç”»é¢ã‚„ API ãªã©ã€ã‚¢ãƒ—ãƒªå†…ã§ã®ã€Œé ˜åŸŸåˆ†ã‘ã€ã«ä½¿ã†ã€‚

```ruby
namespace :admin do
  resources :note
end
```

| Prefix             | Verb   | Path                  | Controller#Action  |
| ------------------ | ------ | --------------------- | ------------------ |
| admin\_note\_index | GET    | /admin/note           | admin/note#index   |
|                    | POST   | /admin/note           | admin/note#create  |
| new\_admin\_note   | GET    | /admin/note/new       | admin/note#new     |
| edit\_admin\_note  | GET    | /admin/note/\:id/edit | admin/note#edit    |
| admin\_note        | GET    | /admin/note/\:id      | admin/note#show    |
|                    | PATCH  | /admin/note/\:id      | admin/note#update  |
|                    | PUT    | /admin/note/\:id      | admin/note#update  |
|                    | DELETE | /admin/note/\:id      | admin/note#destroy |

- scope
  - URL ãƒ‘ã‚¹ã ã‘å¤‰ãˆãŸã„ï¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã ã‘å¤‰ãˆãŸã„å ´åˆã«ä½¿ã†

```ruby
# URL ã ã‘å¤‰ãˆã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯é€šå¸¸é€šã‚Š

scope path: "/admin" do
  resources :notes
end
```

```ruby
# ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§åˆ‡ã‚ŠãŸã„ãŒ URL ã¯å¤‰ãˆãŸããªã„

scope module: "admin" do
  resources :notes
end
```
